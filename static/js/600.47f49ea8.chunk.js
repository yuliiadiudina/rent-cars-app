"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[600],{722:function(e,t,a){a.d(t,{Z:function(){return E}});var s=a(791),r=a(439),i={carsListItemDiv:"CarsListItem_carsListItemDiv__dJmNX",itemImg:"CarsListItem_itemImg__eQfyF",btnHeart:"CarsListItem_btnHeart__xjQ10",titelItem:"CarsListItem_titelItem__qTbT7",titelItemSpan:"CarsListItem_titelItemSpan__ArRS6",titelPrice:"CarsListItem_titelPrice__G2L6B",ulList:"CarsListItem_ulList__SE3Ji",liList:"CarsListItem_liList__eVtku",learnMoreBtn:"CarsListItem_learnMoreBtn__K4-Aa"};var n=a.p+"static/media/heart.ac060e771360fcc26ebb0c86173c8396.svg";var l=a.p+"static/media/heartblue.623a3b874365d724c658e79a860ad4a4.svg",c="CarDetails_backdrop__5X5MR",o="CarDetails_modal__U+9f5",d="CarDetails_closeButton__jGwSQ",m="CarDetails_carImage__nQf5D",u="CarDetails_modalTitel__a0R+s",_="CarDetails_modalTitelSpan__BTdek",h="CarDetails_modalList__HgwMD",p="CarDetails_modalItem__f-sIh",v="CarDetails_modalDescription__5wtiY",f="CarDetails_accessoriesTitel__kv6cK",x="CarDetails_listAccessories__-5VKr",C="CarDetails_itemAccessories__Q8QCI",j="CarDetails_detailsTitel__4+eCv",g="CarDetails_detailsList__PqAX-",N="CarDetails_detailsItem__GC9jT",L="CarDetails_detailsItemSpan__gwzAB",b="CarDetails_rentalBtn__RxLoo",I="CarDetails_rentalLink__wR-Ap";var k=a.p+"static/media/x.f3cbdd58dc25ca7cbb3d242106b56fb9.svg",D=a(184),w=function(e){var t,a=e.advert,r=e.onClose;(0,s.useEffect)((function(){var e=function(e){"Escape"===e.code&&r()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[r]);var i=a.rentalConditions?a.rentalConditions.split("\n"):[],n=a.mileage?a.mileage.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"",l=function(e){var t=e.split(/(\d+)/);return(0,D.jsx)(D.Fragment,{children:t.map((function(e,t){return/^\d+$/.test(e)?(0,D.jsx)("span",{className:L,children:e},t):e}))})};return(0,D.jsx)("div",{className:c,onClick:r,children:(0,D.jsxs)("div",{className:o,onClick:function(e){return e.stopPropagation()},children:[(0,D.jsx)("button",{className:d,type:"button",onClick:r,children:(0,D.jsx)("img",{src:k,alt:"close"})}),(0,D.jsx)("img",{src:a.img,alt:"car",className:m}),(0,D.jsxs)("h1",{className:u,children:[a.make," ",(0,D.jsx)("span",{className:_,children:a.model}),", ",a.year]}),(0,D.jsx)("ul",{className:h,children:(0,D.jsxs)("li",{className:p,children:[a.address," | Id: ",a.id," | Year: ",a.year," | Type: ",a.type," | Fuel Consumption: ",a.fuelConsumption," | Engine Size: ",a.engineSize]})}),(0,D.jsx)("p",{className:v,children:a.description}),(0,D.jsx)("h2",{className:f,children:"Accessories and functionalities:"}),(0,D.jsxs)("ul",{className:x,children:[(0,D.jsx)("li",{className:C,children:null===(t=a.accessories)||void 0===t?void 0:t.join(" | ")}),(0,D.jsx)("li",{className:C,children:a.functionalities.join(" | ")})]}),(0,D.jsx)("h2",{className:j,children:"Rental Conditions:"}),(0,D.jsxs)("ul",{className:g,children:[i.map((function(e,t){return(0,D.jsx)("li",{className:N,children:l(e)},t)})),(0,D.jsxs)("li",{className:N,children:["Mileage: ",(0,D.jsx)("span",{className:L,children:n})]}),(0,D.jsxs)("li",{className:N,children:["Price: ",(0,D.jsx)("span",{className:L,children:a.rentalPrice})]})]}),(0,D.jsx)("button",{className:b,children:(0,D.jsx)("a",{className:I,href:"tel:+380730000000",children:"Rental car"})})]})})},y=function(e){var t=e.advert,a=e.isFavorite,c=e.onToggleFavorite,o=(0,s.useState)(!1),d=(0,r.Z)(o,2),m=d[0],u=d[1];return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:i.carsListItemDiv,children:[(0,D.jsx)("button",{className:i.btnHeart,type:"button",onClick:function(){return c(t)},children:(0,D.jsx)("img",{className:i.btnHeartImg,src:a?l:n,alt:"heart"})}),(0,D.jsx)("img",{className:i.itemImg,src:t.img,alt:"Car",width:"274",height:"268"}),(0,D.jsxs)("h1",{className:i.titelItem,children:[t.make," ",(0,D.jsx)("span",{className:i.titelItemSpan,children:t.model}),", ",t.year," ",(0,D.jsx)("span",{className:i.titelPrice,children:t.rentalPrice})]}),(0,D.jsx)("ul",{className:i.ulList,children:(0,D.jsxs)("li",{className:i.liList,children:[t.address," | ",t.rentalCompany," | ",t.type," | ",t.model," | ",t.id," | ",t.functionalities[0]]})}),(0,D.jsx)("button",{className:i.learnMoreBtn,type:"button",onClick:function(){u(!0)},children:"Learn more"})]}),m&&(0,D.jsx)(w,{advert:t,onClose:function(){u(!1)}})]})},S="CarsList_mainSection__ZEY7m",Z="CarsList_listContainer__dh-Ot",T="CarsList_carsList__PSLgy",F="CarsList_carsListItem__Uimpd",B="CarsList_anverbInfo__sp06C",E=function(e){var t=e.adverts,a=e.favorites,s=e.onToggleFavorite;return(0,D.jsx)("section",{className:S,children:(0,D.jsx)("div",{className:Z,children:(0,D.jsx)("ul",{className:T,children:t&&t.length>0?t.map((function(e){return(0,D.jsx)("li",{className:F,children:(0,D.jsx)(y,{advert:e,isFavorite:a.some((function(t){return t.id===e.id})),onToggleFavorite:function(){return s(e)}})},e.id)})):(0,D.jsx)("p",{className:B,children:"No adverts available"})})})})}},600:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var s=a(433),r=a(861),i=a(439),n=a(757),l=a.n(n),c=a(791),o=a(722),d=a(16);d.Z.defaults.baseURL="https://6661973c63e6a0189feaa096.mockapi.io/adverts";var m=function(){var e=(0,r.Z)(l().mark((function e(){var t,a,s,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,a=r.length>1&&void 0!==r[1]?r[1]:12,e.prev=2,e.next=5,d.Z.get("/adverts",{params:{page:t,limit:a}});case 5:return s=e.sent,e.abrupt("return",s.data);case 9:return e.prev=9,e.t0=e.catch(2),console.error("Error:",e.t0.message),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),u=a(26),_="LoadBtn_loadBtn__fjQck",h=a(184),p=function(e){var t=e.onClick;return(0,h.jsx)("button",{type:"button",className:_,onClick:t,children:"Load More"})},v=function(e){var t=e.favorites,a=e.onToggleFavorite,n=(0,c.useState)(!1),d=(0,i.Z)(n,2),_=d[0],v=d[1],f=(0,c.useState)([]),x=(0,i.Z)(f,2),C=x[0],j=x[1],g=(0,c.useState)(1),N=(0,i.Z)(g,2),L=N[0],b=N[1],I=(0,c.useState)(!0),k=(0,i.Z)(I,2),D=k[0],w=k[1];(0,c.useEffect)((function(){function e(){return(e=(0,r.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,m(L);case 4:t=e.sent,j((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(t))})),t.length<12&&w(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error:",e.t0.message);case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[L]);return(0,h.jsxs)(h.Fragment,{children:[_&&(0,h.jsx)(u.Z,{}),(0,h.jsx)(o.Z,{adverts:C,favorites:t,onToggleFavorite:a}),D&&!_&&(0,h.jsx)(p,{onClick:function(){b((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=600.47f49ea8.chunk.js.map