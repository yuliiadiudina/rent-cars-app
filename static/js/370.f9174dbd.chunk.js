"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[370],{729:function(e,t,a){a.d(t,{Z:function(){return g}});var n=a(683),r=a(791),s=a(439),i={carsListItemDiv:"CarsListItem_carsListItemDiv__dJmNX",itemImg:"CarsListItem_itemImg__eQfyF",btnHeart:"CarsListItem_btnHeart__xjQ10",titelItem:"CarsListItem_titelItem__qTbT7",titelItemSpan:"CarsListItem_titelItemSpan__ArRS6",ulList:"CarsListItem_ulList__SE3Ji",liList:"CarsListItem_liList__eVtku",learnMoreBtn:"CarsListItem_learnMoreBtn__K4-Aa"};var c=a.p+"static/media/heart.ac060e771360fcc26ebb0c86173c8396.svg";var l=a.p+"static/media/heartblue.623a3b874365d724c658e79a860ad4a4.svg",o={backdrop:"CarDetails_backdrop__5X5MR",modal:"CarDetails_modal__U+9f5",closeButton:"CarDetails_closeButton__jGwSQ",carImage:"CarDetails_carImage__nQf5D"};var u=a.p+"static/media/x.f3cbdd58dc25ca7cbb3d242106b56fb9.svg",d=a(184),m=function(e){var t=e.advert,a=e.onClose;return(0,r.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]),(0,d.jsx)("div",{className:o.backdrop,onClick:a,children:(0,d.jsxs)("div",{className:o.modal,onClick:function(e){return e.stopPropagation()},children:[(0,d.jsx)("button",{className:o.closeButton,type:"button",onClick:a,children:(0,d.jsx)("img",{src:u,alt:"close"})}),(0,d.jsx)("img",{src:t.img,alt:"car",className:o.carImage}),(0,d.jsxs)("h1",{children:[t.make," ",(0,d.jsx)("span",{children:t.model}),", ",t.year]}),(0,d.jsx)("ul",{children:(0,d.jsxs)("li",{children:[t.address," Id: ",t.id," Year: ",t.year," Type: ",t.type," Fuel Consumption: ",t.fuelConsumption," Engine Size: ",t.engineSize]})}),(0,d.jsx)("p",{children:t.description}),(0,d.jsx)("h2",{children:"Accessories and functionalities"}),(0,d.jsx)("ul",{children:(0,d.jsxs)("li",{children:[t.accessories," ",t.functionalities]})}),(0,d.jsx)("h2",{children:"Rental Conditions"}),(0,d.jsx)("ul",{children:(0,d.jsxs)("li",{children:[t.rentalConditions," Mileage: ",t.mileage," Price: ",t.price]})}),(0,d.jsx)("a",{className:o.rentalBtn,href:"tel:+380730000000",children:"Rental car"})]})})},p=function(e){var t=e.img,a=e.make,n=e.model,o=e.year,u=e.rentalPrice,p=e.address,f=e.rentalCompany,h=e.type,_=e.id,v=e.functionalities,x=e.isFavorite,g=e.onToggleFavorite,j=(0,r.useState)(!1),C=(0,s.Z)(j,2),b=C[0],L=C[1];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:i.carsListItemDiv,children:[(0,d.jsx)("button",{className:i.btnHeart,type:"button",onClick:function(){return g({id:_,img:t,make:a,model:n,year:o,rentalPrice:u,address:p,rentalCompany:f,type:h,functionalities:v})},children:(0,d.jsx)("img",{className:i.btnHeartImg,src:x?l:c,alt:"heart"})}),(0,d.jsx)("img",{className:i.itemImg,src:t,alt:"Car",width:"274",height:"268"}),(0,d.jsxs)("h1",{className:i.titelItem,children:[a," ",(0,d.jsx)("span",{className:i.titelItemSpan,children:n}),", ",o," ",u]}),(0,d.jsx)("ul",{className:i.ulList,children:(0,d.jsxs)("li",{className:i.liList,children:[p," ",f," ",h," ",n," ",_," ",v]})}),(0,d.jsx)("button",{className:i.learnMoreBtn,type:"button",onClick:function(){L(!0)},children:"Learn more"})]}),b&&(0,d.jsx)(m,{advert:{img:t,make:a,model:n,year:o,rentalPrice:u,address:p,rentalCompany:f,type:h,id:_,functionalities:v},onClose:function(){L(!1)}})]})},f="CarsList_mainSection__ZEY7m",h="CarsList_listContainer__dh-Ot",_="CarsList_carsList__PSLgy",v="CarsList_carsListItem__Uimpd",x="CarsList_anverbInfo__sp06C",g=function(e){var t=e.adverts,a=e.index,r=e.favorites,s=e.onToggleFavorite;return(0,d.jsx)("section",{className:f,children:(0,d.jsx)("div",{className:h,children:(0,d.jsx)("ul",{className:_,children:t&&t.length>0?t.map((function(e){return(0,d.jsx)("li",{className:v,children:(0,d.jsx)(p,(0,n.Z)((0,n.Z)({},e),{},{isFavorite:r.some((function(t){return t.id===e.id})),onToggleFavorite:function(){return s(e)}}))},a)})):(0,d.jsx)("p",{className:x,children:"No adverts available"})})})})}},370:function(e,t,a){a.r(t),a.d(t,{default:function(){return _}});var n=a(433),r=a(861),s=a(439),i=a(757),c=a.n(i),l=a(791),o=a(729),u=a(16);u.Z.defaults.baseURL="https://6661973c63e6a0189feaa096.mockapi.io/adverts";var d=function(){var e=(0,r.Z)(c().mark((function e(){var t,a,n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,a=r.length>1&&void 0!==r[1]?r[1]:12,e.prev=2,e.next=5,u.Z.get("/adverts",{params:{page:t,limit:a}});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(2),console.error("Error:",e.t0.message),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),m=a(455),p="LoadBtn_loadBtn__fjQck",f=a(184),h=function(e){var t=e.onClick;return(0,f.jsx)("button",{type:"button",className:p,onClick:t,children:"Load More"})};var _=function(e){var t=e.favorites,a=e.onToggleFavorite,i=(0,l.useState)(!1),u=(0,s.Z)(i,2),p=u[0],_=u[1],v=(0,l.useState)([]),x=(0,s.Z)(v,2),g=x[0],j=x[1],C=(0,l.useState)(1),b=(0,s.Z)(C,2),L=b[0],k=b[1],I=(0,l.useState)(!0),y=(0,s.Z)(I,2),N=y[0],Z=y[1];return(0,l.useEffect)((function(){function e(){return(e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,d(L);case 4:t=e.sent,j((function(e){return[].concat((0,n.Z)(e),(0,n.Z)(t))})),t.length<12&&Z(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error:",e.t0.message);case 12:return e.prev=12,_(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[L]),(0,f.jsxs)(f.Fragment,{children:[p&&(0,f.jsx)(m.Z,{}),(0,f.jsx)(o.Z,{adverts:g,favorites:t,onToggleFavorite:a}),N&&!p&&(0,f.jsx)(h,{onClick:function(){k((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=370.f9174dbd.chunk.js.map